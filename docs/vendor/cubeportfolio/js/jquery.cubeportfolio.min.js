!function(s,e,a,r){"use strict";function l(e,t,n){var i,o=this,a="cbp";if(s.data(e,"cubeportfolio"))throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!");o.obj=e,o.$obj=s(e),s.data(o.obj,"cubeportfolio",o),o.options=s.extend({},s.fn.cubeportfolio.options,t,o.$obj.data("cbp-options")),o.isAnimating=!0,o.defaultFilter=o.options.defaultFilter,o.registeredEvents=[],o.queue=[],o.addedWrapp=!1,s.isFunction(n)&&o.registerEvent("initFinish",n,!0),i=o.$obj.children(),o.options.caption&&("expand"===o.options.caption||l.private.modernBrowser||(o.options.caption="minimal"),a+=" cbp-caption-active cbp-caption-"+o.options.caption),o.$obj.addClass(a),(0===i.length||i.first().hasClass("cbp-item"))&&(o.wrapInner(o.obj,"cbp-wrapper"),o.addedWrapp=!0),o.$ul=o.$obj.children().addClass("cbp-wrapper"),o.wrapInner(o.obj,"cbp-wrapper-outer"),o.wrapper=o.$obj.children(".cbp-wrapper-outer"),o.blocks=o.$ul.children(".cbp-item"),o.blocksOn=o.blocks,o.wrapInner(o.blocks,"cbp-item-wrapper"),o.plugins=s.map(l.plugins,function(e){return e(o)}),o.triggerEvent("afterPlugins"),o.loadImages(o.$obj,o.display)}s.extend(l.prototype,{storeData:function(e,a){var r=this;a=a||0,e.each(function(e,t){var n=s(t),i=n.width(),o=n.height();n.data("cbp",{index:a+e,wrapper:n.children(".cbp-item-wrapper"),widthInitial:i,heightInitial:o,width:i,height:o,widthAndGap:i+r.options.gapVertical,heightAndGap:o+r.options.gapHorizontal,left:null,leftNew:null,top:null,topNew:null,pack:!1})})},wrapInner:function(e,t){var n,i,o;if(t=t||"",!(e.length&&e.length<1))for(e.length===r&&(e=[e]),i=e.length-1;0<=i;i--){for(n=e[i],(o=a.createElement("div")).setAttribute("class",t);n.childNodes.length;)o.appendChild(n.childNodes[0]);n.appendChild(o)}},removeAttrImage:function(e){e.removeAttribute("width"),e.removeAttribute("height"),e.removeAttribute("style")},loadImages:function(t,o){var a=this;requestAnimationFrame(function(){var e=t.find("img").map(function(e,t){if(t.hasAttribute("width")&&t.hasAttribute("height")){if(t.style.width=t.getAttribute("width")+"px",t.style.height=t.getAttribute("height")+"px",t.hasAttribute("data-cbp-src"))return null;if(null===a.checkSrc(t))a.removeAttrImage(t);else{var n=s("<img>");n.on("load.cbp error.cbp",function(){s(this).off("load.cbp error.cbp"),a.removeAttrImage(t)}),t.srcset?(n.attr("sizes",t.sizes||"100vw"),n.attr("srcset",t.srcset)):n.attr("src",t.src)}return null}return a.checkSrc(t)}),i=e.length;return 0===i?void o.call(a):void s.each(e,function(e,t){var n=s("<img>");n.on("load.cbp error.cbp",function(){s(this).off("load.cbp error.cbp"),0===--i&&o.call(a)}),t.srcset?(n.attr("sizes",t.sizes),n.attr("srcset",t.srcset)):n.attr("src",t.src)})})},checkSrc:function(e){var t=e.srcset,n=e.src;if(""===n)return null;var i=s("<img>");t?(i.attr("sizes",e.sizes||"100vw"),i.attr("srcset",t)):i.attr("src",n);var o=i[0];return o.complete&&o.naturalWidth!==r&&0!==o.naturalWidth?null:o},display:function(){var e=this;e.width=e.$obj.outerWidth(),e.storeData(e.blocks),e.triggerEvent("initStartRead"),e.triggerEvent("initStartWrite"),e.layoutAndAdjustment(),e.triggerEvent("initEndRead"),e.triggerEvent("initEndWrite"),e.$obj.addClass("cbp-ready"),e.runQueue("delayFrame",e.delayFrame)},delayFrame:function(){var e=this;requestAnimationFrame(function(){e.resizeEvent(),e.triggerEvent("initFinish"),e.isAnimating=!1,e.$obj.trigger("initComplete.cbp")})},resizeEvent:function(){var t;l.private.resize.initEvent({instance:this,fn:function(){var e=this;e.triggerEvent("beforeResizeGrid"),t=e.$obj.outerWidth(),e.width!==t&&("alignCenter"===e.options.gridAdjustment&&(e.wrapper[0].style.maxWidth=""),e.width=t,e.layoutAndAdjustment(),e.triggerEvent("resizeGrid")),e.triggerEvent("resizeWindow")}})},gridAdjust:function(){var r=this;"responsive"===r.options.gridAdjustment?r.responsiveLayout():(r.blocks.removeAttr("style"),r.blocks.each(function(e,t){var n=s(t).data("cbp"),i=t.getBoundingClientRect(),o=r.columnWidthTruncate(i.right-i.left),a=Math.round(i.bottom-i.top);n.height=a,n.heightAndGap=a+r.options.gapHorizontal,n.width=o,n.widthAndGap=o+r.options.gapVertical}),r.widthAvailable=r.width+r.options.gapVertical),r.triggerEvent("gridAdjust")},layoutAndAdjustment:function(){this.gridAdjust(),this.layout()},layout:function(){var e=this;e.computeBlocks(e.filterConcat(e.defaultFilter)),"slider"===e.options.layoutMode?(e.sliderLayoutReset(),e.sliderLayout()):(e.mosaicLayoutReset(),e.mosaicLayout()),e.positionateItems(),e.resizeMainContainer()},computeFilter:function(e){this.computeBlocks(e),this.mosaicLayoutReset(),this.mosaicLayout(),this.filterLayout()},filterLayout:function(){this.blocksOff.addClass("cbp-item-off"),this.blocksOn.removeClass("cbp-item-off").each(function(e,t){var n=s(t).data("cbp");n.left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px"}),this.resizeMainContainer(),this.filterFinish()},filterFinish:function(){var e=this;e.blocksAreSorted&&e.sortBlocks(e.blocks,"index"),e.isAnimating=!1,e.$obj.trigger("filterComplete.cbp"),e.triggerEvent("filterFinish")},computeBlocks:function(e){var t=this;t.blocksOnInitial=t.blocksOn,t.blocksOn=t.blocks.filter(e),t.blocksOff=t.blocks.not(e),t.triggerEvent("computeBlocksFinish",e)},responsiveLayout:function(){var a=this;a.cols=a[s.isArray(a.options.mediaQueries)?"getColumnsBreakpoints":"getColumnsAuto"](),a.columnWidth=a.columnWidthTruncate((a.width+a.options.gapVertical)/a.cols),a.widthAvailable=a.columnWidth*a.cols,"mosaic"===a.options.layoutMode&&a.getMosaicWidthReference(),a.blocks.each(function(e,t){var n,i=s(t).data("cbp"),o=1;"mosaic"===a.options.layoutMode&&(o=a.getColsMosaic(i.widthInitial)),n=a.columnWidth*o-a.options.gapVertical,t.style.width=n+"px",i.width=n,i.widthAndGap=n+a.options.gapVertical,t.style.height=""});var r=[];a.blocks.each(function(e,t){var n=s(t),a=n.data("cbp").width;s.each(n.find("img").filter("[width][height]"),function(e,t){var n=parseInt(t.getAttribute("width"),10),i=parseInt(t.getAttribute("height"),10),o=parseFloat((n/i).toFixed(10));r.push({el:t,width:a,height:Math.round(a/o)})})}),s.each(r,function(e,t){t.el.width=t.width,t.el.height=t.height,t.el.style.width=t.width+"px",t.el.style.height=t.height+"px"}),a.blocks.each(function(e,t){var n=s(t).data("cbp"),i=t.getBoundingClientRect(),o=Math.round(i.bottom-i.top);n.height=o,n.heightAndGap=o+a.options.gapHorizontal})},getMosaicWidthReference:function(){var i=[];this.blocks.each(function(e,t){var n=s(t).data("cbp");i.push(n.widthInitial)}),i.sort(function(e,t){return e-t}),i[0]?this.mosaicWidthReference=i[0]:this.mosaicWidthReference=this.columnWidth},getColsMosaic:function(e){if(e===this.width)return this.cols;var t=e/this.mosaicWidthReference;return t=.79<=t%1?Math.ceil(t):Math.floor(t),Math.min(Math.max(t,1),this.cols)},getColumnsAuto:function(){if(0===this.blocks.length)return 1;var e=this.blocks.first().data("cbp").widthInitial+this.options.gapVertical;return Math.max(Math.round(this.width/e),1)},getColumnsBreakpoints:function(){var n,i=this.width;return s.each(this.options.mediaQueries,function(e,t){return i>=t.width?(n=t.cols,!1):void 0}),n===r&&(n=this.options.mediaQueries[this.options.mediaQueries.length-1].cols),n},columnWidthTruncate:function(e){return Math.floor(e)},positionateItems:function(){var n,e=this;e.blocksOn.removeClass("cbp-item-off").each(function(e,t){(n=s(t).data("cbp")).left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px"}),e.blocksOff.addClass("cbp-item-off"),e.blocksAreSorted&&e.sortBlocks(e.blocks,"index")},resizeMainContainer:function(){var o,e=this,t=Math.max(e.freeSpaces.slice(-1)[0].topStart-e.options.gapHorizontal,0);return"alignCenter"===e.options.gridAdjustment&&(o=0,e.blocksOn.each(function(e,t){var n=s(t).data("cbp"),i=n.left+n.width;o<i&&(o=i)}),e.wrapper[0].style.maxWidth=o+"px"),t===e.height||(e.obj.style.height=t+"px",e.height!==r&&(l.private.modernBrowser?e.$obj.one(l.private.transitionend,function(){e.$obj.trigger("pluginResize.cbp")}):e.$obj.trigger("pluginResize.cbp")),e.height=t),void e.triggerEvent("resizeMainContainer")},filterConcat:function(e){return e.replace(/\|/gi,"")},pushQueue:function(e,t){this.queue[e]=this.queue[e]||[],this.queue[e].push(t)},runQueue:function(e,t){var n=this.queue[e]||[];s.when.apply(s,n).then(s.proxy(t,this))},clearQueue:function(e){this.queue[e]=[]},registerEvent:function(e,t,n){this.registeredEvents[e]||(this.registeredEvents[e]=[]),this.registeredEvents[e].push({func:t,oneTime:n||!1})},triggerEvent:function(e,t){var n,i,o=this;if(o.registeredEvents[e])for(n=0,i=o.registeredEvents[e].length;n<i;n++)o.registeredEvents[e][n].func.call(o,t),o.registeredEvents[e][n].oneTime&&(o.registeredEvents[e].splice(n,1),n--,i--)},addItems:function(e,t,i){var o=this;o.wrapInner(e,"cbp-item-wrapper"),o.$ul[i](e.addClass("cbp-item-loading").css({top:"100%",left:0})),l.private.modernBrowser?e.last().one(l.private.animationend,function(){o.addItemsFinish(e,t)}):o.addItemsFinish(e,t),o.loadImages(e,function(){if(o.$obj.addClass("cbp-updateItems"),"append"===i)o.storeData(e,o.blocks.length),s.merge(o.blocks,e);else{o.storeData(e);var n=e.length;o.blocks.each(function(e,t){s(t).data("cbp").index=n+e}),o.blocks=s.merge(e,o.blocks)}o.triggerEvent("addItemsToDOM",e),o.layoutAndAdjustment(),o.elems&&l.public.showCounter.call(o.obj,o.elems)})},addItemsFinish:function(e,t){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),e.removeClass("cbp-item-loading"),s.isFunction(t)&&t.call(this,e)},removeItems:function(e,t){var o=this;o.$obj.addClass("cbp-updateItems"),l.private.modernBrowser?e.last().one(l.private.animationend,function(){o.removeItemsFinish(e,t)}):o.removeItemsFinish(e,t),e.each(function(e,i){o.blocks.each(function(e,t){if(i===t){var n=s(t);o.blocks.splice(e,1),l.private.modernBrowser?(n.one(l.private.animationend,function(){n.remove()}),n.addClass("cbp-removeItem")):n.remove()}})}),o.blocks.each(function(e,t){s(t).data("cbp").index=e}),o.layoutAndAdjustment(),o.elems&&l.public.showCounter.call(o.obj,o.elems)},removeItemsFinish:function(e,t){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),s.isFunction(t)&&t.call(this,e)}}),s.fn.cubeportfolio=function(e,t,n){return this.each(function(){if("object"==typeof e||!e)return l.public.init.call(this,e,t);if(l.public[e])return l.public[e].call(this,t,n);throw new Error("Method "+e+" does not exist on jquery.cubeportfolio.js")})},l.plugins={},s.fn.cubeportfolio.constructor=l}(jQuery,window,document),function(l,e,t,n){"use strict";var i=l.fn.cubeportfolio.constructor;l.extend(i.prototype,{mosaicLayoutReset:function(){this.blocksAreSorted=!1,this.blocksOn.each(function(e,t){l(t).data("cbp").pack=!1})},mosaicLayout:function(){var e,t=this,n=t.blocksOn.length,i={};for(t.freeSpaces=[{leftStart:0,leftEnd:t.widthAvailable,topStart:0,topEnd:Math.pow(2,18)}],e=0;e<n;e++){if(null===(i=t.getSpaceIndexAndBlock()))return t.sortBlocksToPreventGaps(),void t.mosaicLayout();t.generateF1F2(i.spaceIndex,i.dataBlock),t.generateG1G2G3G4(i.dataBlock),t.cleanFreeSpaces(),t.addHeightToBlocks()}t.blocksAreSorted&&t.sortBlocks(t.blocksOn,"topNew")},getSpaceIndexAndBlock:function(){var e=this,s=null;return l.each(e.freeSpaces,function(i,o){var a=o.leftEnd-o.leftStart,r=o.topEnd-o.topStart;return e.blocksOn.each(function(e,t){var n=l(t).data("cbp");if(!0!==n.pack)return n.widthAndGap<=a&&n.heightAndGap<=r?(n.pack=!0,s={spaceIndex:i,dataBlock:n},n.leftNew=o.leftStart,n.topNew=o.topStart,!1):void 0}),!e.blocksAreSorted&&e.options.sortToPreventGaps&&0<i?(s=null,!1):null===s&&void 0}),s},generateF1F2:function(e,t){var n=this.freeSpaces[e],i={leftStart:n.leftStart+t.widthAndGap,leftEnd:n.leftEnd,topStart:n.topStart,topEnd:n.topEnd},o={leftStart:n.leftStart,leftEnd:n.leftEnd,topStart:n.topStart+t.heightAndGap,topEnd:n.topEnd};this.freeSpaces.splice(e,1),i.leftStart<i.leftEnd&&i.topStart<i.topEnd&&(this.freeSpaces.splice(e,0,i),e++),o.leftStart<o.leftEnd&&o.topStart<o.topEnd&&this.freeSpaces.splice(e,0,o)},generateG1G2G3G4:function(i){var o=this,a=[];l.each(o.freeSpaces,function(e,t){var n=o.intersectSpaces(t,i);return null===n?void a.push(t):(o.generateG1(t,n,a),o.generateG2(t,n,a),o.generateG3(t,n,a),void o.generateG4(t,n,a))}),o.freeSpaces=a},intersectSpaces:function(e,t){var n={leftStart:t.leftNew,leftEnd:t.leftNew+t.widthAndGap,topStart:t.topNew,topEnd:t.topNew+t.heightAndGap};if(e.leftStart===n.leftStart&&e.leftEnd===n.leftEnd&&e.topStart===n.topStart&&e.topEnd===n.topEnd)return null;var i=Math.max(e.leftStart,n.leftStart),o=Math.min(e.leftEnd,n.leftEnd),a=Math.max(e.topStart,n.topStart),r=Math.min(e.topEnd,n.topEnd);return o<=i||r<=a?null:{leftStart:i,leftEnd:o,topStart:a,topEnd:r}},generateG1:function(e,t,n){e.topStart!==t.topStart&&n.push({leftStart:e.leftStart,leftEnd:e.leftEnd,topStart:e.topStart,topEnd:t.topStart})},generateG2:function(e,t,n){e.leftEnd!==t.leftEnd&&n.push({leftStart:t.leftEnd,leftEnd:e.leftEnd,topStart:e.topStart,topEnd:e.topEnd})},generateG3:function(e,t,n){e.topEnd!==t.topEnd&&n.push({leftStart:e.leftStart,leftEnd:e.leftEnd,topStart:t.topEnd,topEnd:e.topEnd})},generateG4:function(e,t,n){e.leftStart!==t.leftStart&&n.push({leftStart:e.leftStart,leftEnd:t.leftStart,topStart:e.topStart,topEnd:e.topEnd})},cleanFreeSpaces:function(){this.freeSpaces.sort(function(e,t){return e.topStart>t.topStart?1:e.topStart<t.topStart?-1:e.leftStart>t.leftStart?1:e.leftStart<t.leftStart?-1:0}),this.correctSubPixelValues(),this.removeNonMaximalFreeSpaces()},correctSubPixelValues:function(){var e,t,n,i;for(e=0,t=this.freeSpaces.length-1;e<t;e++)n=this.freeSpaces[e],(i=this.freeSpaces[e+1]).topStart-n.topStart<=1&&(i.topStart=n.topStart)},removeNonMaximalFreeSpaces:function(){var e=this;e.uniqueFreeSpaces(),e.freeSpaces=l.map(e.freeSpaces,function(n,i){return l.each(e.freeSpaces,function(e,t){return i!==e&&t.leftStart<=n.leftStart&&t.leftEnd>=n.leftEnd&&t.topStart<=n.topStart&&t.topEnd>=n.topEnd?(n=null,!1):void 0}),n})},uniqueFreeSpaces:function(){var t=[];l.each(this.freeSpaces,function(e,n){l.each(t,function(e,t){return t.leftStart===n.leftStart&&t.leftEnd===n.leftEnd&&t.topStart===n.topStart&&t.topEnd===n.topEnd?(n=null,!1):void 0}),null!==n&&t.push(n)}),this.freeSpaces=t},addHeightToBlocks:function(){var o=this;l.each(o.freeSpaces,function(e,i){o.blocksOn.each(function(e,t){var n=l(t).data("cbp");!0===n.pack&&o.intersectSpaces(i,n)&&(-1===i.topStart-n.topNew-n.heightAndGap&&(t.style.height=n.height-1+"px"))})})},sortBlocksToPreventGaps:function(){this.blocksAreSorted=!0,this.blocksOn.sort(function(e,t){var n=l(e).data("cbp"),i=l(t).data("cbp");return n.widthAndGap<i.widthAndGap?1:n.widthAndGap>i.widthAndGap?-1:n.heightAndGap<i.heightAndGap?1:n.heightAndGap>i.heightAndGap?-1:n.index>i.index?1:n.index<i.index?-1:void 0}),this.blocksOn.each(function(e,t){l(t).data("cbp").pack=!1,t.style.height=""})},sortBlocks:function(e,o){e.sort(function(e,t){var n=l(e).data("cbp"),i=l(t).data("cbp");return n[o]>i[o]?1:n[o]<i[o]?-1:n.leftNew>i.leftNew?1:n.leftNew<i.leftNew?-1:0})}})}(jQuery,window,document),jQuery.fn.cubeportfolio.options={filters:"",loadMore:"",loadMoreAction:"click",search:"",layoutMode:"grid",sortToPreventGaps:!1,drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"fadeIn",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:null,singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlineDeeplinking:!1,singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:null,plugins:{}},function(a,o,r,e){"use strict";var s=a.fn.cubeportfolio.constructor,l=a(o);s.private={publicEvents:function(t,n,i){var o=this;o.events=[],o.initEvent=function(e){0===o.events.length&&o.scrollEvent(),o.events.push(e)},o.destroyEvent=function(n){o.events=a.map(o.events,function(e,t){return e.instance!==n?e:void 0}),0===o.events.length&&l.off(t)},o.scrollEvent=function(){var e;l.on(t,function(){clearTimeout(e),e=setTimeout(function(){a.isFunction(i)&&i.call(o)||a.each(o.events,function(e,t){t.fn.call(t.instance)})},n)})}},checkInstance:function(e){var t=a.data(this,"cubeportfolio");if(!t)throw new Error("cubeportfolio is not initialized. Initialize it before calling "+e+" method!");return t.triggerEvent("publicMethod"),t},browserInfo:function(){var e,t,n=s.private,i=navigator.appVersion;-1!==i.indexOf("MSIE 8.")?n.browser="ie8":-1!==i.indexOf("MSIE 9.")?n.browser="ie9":-1!==i.indexOf("MSIE 10.")?n.browser="ie10":o.ActiveXObject||"ActiveXObject"in o?n.browser="ie11":/android/gi.test(i)?n.browser="android":/iphone|ipad|ipod/gi.test(i)?n.browser="ios":/chrome/gi.test(i)?n.browser="chrome":n.browser="",void 0!==typeof n.styleSupport("perspective")&&(e=n.styleSupport("transition"),n.transitionend={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[e],t=n.styleSupport("animation"),n.animationend={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[t],n.animationDuration={WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"}[t],n.animationDelay={WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"}[t],n.transform=n.styleSupport("transform"),e&&t&&n.transform&&(n.modernBrowser=!0))},styleSupport:function(e){var t,n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1),i=r.createElement("div");return e in i.style?t=e:n in i.style&&(t=n),i=null,t}},s.private.browserInfo(),s.private.resize=new s.private.publicEvents("resize.cbp",50,function(){return o.innerHeight==screen.height||void 0})}(jQuery,window,document),function(a,e,t,n){"use strict";var r=a.fn.cubeportfolio.constructor;r.public={init:function(e,t){new r(this,e,t)},destroy:function(e){var t=r.private.checkInstance.call(this,"destroy");t.triggerEvent("beforeDestroy"),a.removeData(this,"cubeportfolio"),t.blocks.removeData("cbp"),t.$obj.removeClass("cbp-ready").removeAttr("style"),t.$ul.removeClass("cbp-wrapper"),r.private.resize.destroyEvent(t),t.$obj.off(".cbp"),t.blocks.removeClass("cbp-item-off").removeAttr("style"),t.blocks.find(".cbp-item-wrapper").each(function(e,t){var n=a(t),i=n.children();i.length?i.unwrap():n.remove()}),t.options.caption&&t.$obj.removeClass("cbp-caption-active cbp-caption-"+t.options.caption),t.destroySlider(),t.$ul.unwrap(),t.addedWrapp&&t.blocks.unwrap(),0===t.blocks.length&&t.$ul.remove(),a.each(t.plugins,function(e,t){"function"==typeof t.destroy&&t.destroy()}),a.isFunction(e)&&e.call(t),t.triggerEvent("afterDestroy")},filter:function(e,t){var n,i=r.private.checkInstance.call(this,"filter");if(!i.isAnimating){if(i.isAnimating=!0,a.isFunction(t)&&i.registerEvent("filterFinish",t,!0),a.isFunction(e)){if(void 0===(n=e.call(i,i.blocks)))throw new Error("When you call cubeportfolio API `filter` method with a param of type function you must return the blocks that will be visible.")}else{if(i.options.filterDeeplinking){var o=location.href.replace(/#cbpf=(.*?)([#\?&]|$)/gi,"");location.href=o+"#cbpf="+encodeURIComponent(e),i.singlePage&&i.singlePage.url&&(i.singlePage.url=location.href)}i.defaultFilter=e,n=i.filterConcat(i.defaultFilter)}i.singlePageInline&&i.singlePageInline.isOpen?i.singlePageInline.close("promise",{callback:function(){i.computeFilter(n)}}):i.computeFilter(n)}},showCounter:function(e,t){var n=r.private.checkInstance.call(this,"showCounter");a.isFunction(t)&&n.registerEvent("showCounterFinish",t,!0),(n.elems=e).each(function(){var e=a(this),t=n.blocks.filter(e.data("filter")).length;e.find(".cbp-filter-counter").text(t)}),n.triggerEvent("showCounterFinish",e)},appendItems:function(e,t){r.public.append.call(this,e,t)},append:function(e,t){var n=r.private.checkInstance.call(this,"append"),i=a(e).filter(".cbp-item");return n.isAnimating||i.length<1?void(a.isFunction(t)&&t.call(n,i)):(n.isAnimating=!0,void(n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.addItems(i,t,"append")}}):n.addItems(i,t,"append")))},prepend:function(e,t){var n=r.private.checkInstance.call(this,"prepend"),i=a(e).filter(".cbp-item");return n.isAnimating||i.length<1?void(a.isFunction(t)&&t.call(n,i)):(n.isAnimating=!0,void(n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.addItems(i,t,"prepend")}}):n.addItems(i,t,"prepend")))},remove:function(e,t){var n=r.private.checkInstance.call(this,"remove"),i=a(e).filter(".cbp-item");return n.isAnimating||i.length<1?void(a.isFunction(t)&&t.call(n,i)):(n.isAnimating=!0,void(n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.removeItems(i,t)}}):n.removeItems(i,t)))}}}(jQuery,window,document),function(h,e,b,t){"use strict";var v=h.fn.cubeportfolio.constructor;h.extend(v.prototype,{updateSliderPagination:function(){var e,t,n=this;if(n.options.showPagination){for(e=Math.ceil(n.blocksOn.length/n.cols),n.navPagination.empty(),t=e-1;0<=t;t--)h("<div/>",{class:"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(n.navPagination);n.navPaginationItems=n.navPagination.children()}n.enableDisableNavSlider()},destroySlider:function(){var e=this;"slider"===e.options.layoutMode&&(e.$obj.removeClass("cbp-mode-slider"),e.$ul.removeAttr("style"),e.$ul.off(".cbp"),h(b).off(".cbp"),e.options.auto&&e.stopSliderAuto())},nextSlider:function(e){var t=this;if(t.isEndSlider()){if(!t.isRewindNav())return;t.sliderActive=0}else t.options.scrollByPage?t.sliderActive=Math.min(t.sliderActive+t.cols,t.blocksOn.length-t.cols):t.sliderActive+=1;t.goToSlider()},prevSlider:function(e){var t=this;if(t.isStartSlider()){if(!t.isRewindNav())return;t.sliderActive=t.blocksOn.length-t.cols}else t.options.scrollByPage?t.sliderActive=Math.max(0,t.sliderActive-t.cols):t.sliderActive-=1;t.goToSlider()},jumpToSlider:function(e){var t=this,n=Math.min(e.index()*t.cols,t.blocksOn.length-t.cols);n!==t.sliderActive&&(t.sliderActive=n,t.goToSlider())},jumpDragToSlider:function(e){var t,n,i,o=this,a=0<e;o.options.scrollByPage?(t=o.cols*o.columnWidth,n=o.cols):(t=o.columnWidth,n=1),e=Math.abs(e),i=Math.floor(e/t)*n,20<e%t&&(i+=n),o.sliderActive=a?Math.min(o.sliderActive+i,o.blocksOn.length-o.cols):Math.max(0,o.sliderActive-i),o.goToSlider()},isStartSlider:function(){return 0===this.sliderActive},isEndSlider:function(){return this.sliderActive+this.cols>this.blocksOn.length-1},goToSlider:function(){this.enableDisableNavSlider(),this.updateSliderPosition()},startSliderAuto:function(){var e=this;return e.isDrag?void e.stopSliderAuto():void(e.timeout=setTimeout(function(){e.nextSlider(),e.startSliderAuto()},e.options.autoTimeout))},stopSliderAuto:function(){clearTimeout(this.timeout)},enableDisableNavSlider:function(){var e,t,n=this;n.isRewindNav()||(t=n.isStartSlider()?"addClass":"removeClass",n.navPrev[t]("cbp-nav-stop"),t=n.isEndSlider()?"addClass":"removeClass",n.navNext[t]("cbp-nav-stop")),n.options.showPagination&&(e=n.options.scrollByPage?Math.ceil(n.sliderActive/n.cols):n.isEndSlider()?n.navPaginationItems.length-1:Math.floor(n.sliderActive/n.cols),n.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(e).addClass("cbp-nav-pagination-active")),n.customPagination&&(e=n.options.scrollByPage?Math.ceil(n.sliderActive/n.cols):n.isEndSlider()?n.customPaginationItems.length-1:Math.floor(n.sliderActive/n.cols),n.customPaginationItems.removeClass(n.customPaginationClass).eq(e).addClass(n.customPaginationClass))},isRewindNav:function(){return!this.options.showNavigation||!(this.blocksOn.length<=this.cols)&&!!this.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},sliderLayout:function(){var i=this;i.blocksOn.each(function(e,t){var n=h(t).data("cbp");n.leftNew=i.columnWidth*e,n.topNew=0,i.sliderFreeSpaces.push({topStart:n.heightAndGap})}),i.getFreeSpacesForSlider(),i.$ul.width(i.columnWidth*i.blocksOn.length-i.options.gapVertical)},getFreeSpacesForSlider:function(){var e=this;e.freeSpaces=e.sliderFreeSpaces.slice(e.sliderActive,e.sliderActive+e.cols),e.freeSpaces.sort(function(e,t){return e.topStart>t.topStart?1:e.topStart<t.topStart?-1:void 0})},updateSliderPosition:function(){var e=this,t=-e.sliderActive*e.columnWidth;v.private.modernBrowser?e.$ul[0].style[v.private.transform]="translate3d("+t+"px, 0px, 0)":e.$ul[0].style.left=t+"px",e.getFreeSpacesForSlider(),e.resizeMainContainer()},dragSlider:function(){function t(e){c.$obj.removeClass("cbp-mode-slider-dragStart"),d=!0,0!==r?(s.one("click.cbp",function(e){return!1}),requestAnimationFrame(function(){c.jumpDragToSlider(r),c.$ul.one(v.private.transitionend,i)})):i.call(c),u.off(f.move),u.off(f.end)}function n(e){(8<(r=a-o(e).x)||r<-8)&&e.preventDefault(),c.isDrag=!0;var t=l-r;r<0&&r<l?t=(l-r)/5:0<r&&l-r<-p&&(t=(p+l-r)/5-p),v.private.modernBrowser?c.$ul[0].style[v.private.transform]="translate3d("+t+"px, 0px, 0)":c.$ul[0].style.left=t+"px"}function i(){if(d=!1,c.isDrag=!1,c.options.auto){if(c.mouseIsEntered)return;c.startSliderAuto()}}function o(e){return void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(e=e.originalEvent.touches[0]),{x:e.pageX,y:e.pageY}}var a,r,s,l,p,c=this,u=h(b),d=!1,f={},g=!1;c.isDrag=!1,"ontouchstart"in e||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?(f={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},g=!0):f={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},c.$ul.on(f.start,function(e){if(!c.sliderItemsLength()){if(g?e:e.preventDefault(),c.options.auto&&c.stopSliderAuto(),d)return void h(s).one("click.cbp",function(){return!1});s=h(e.target),a=o(e).x,r=0,l=-c.sliderActive*c.columnWidth,p=c.columnWidth*(c.blocksOn.length-c.cols),u.on(f.move,n),u.on(f.end,t),c.$obj.addClass("cbp-mode-slider-dragStart")}})},sliderLayoutReset:function(){this.freeSpaces=[],this.sliderFreeSpaces=[]}})}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(){for(var a=0,e=["moz","webkit"],t=0;t<e.length&&!window.requestAnimationFrame;t++)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-a)),o=window.setTimeout(function(){e(n+i)},i);return a=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(i,e,t,n){"use strict";function o(t){(this.parent=t).filterLayout=this.filterLayout,t.registerEvent("computeBlocksFinish",function(e){t.blocksOn2On=t.blocksOnInitial.filter(e),t.blocksOn2Off=t.blocksOnInitial.not(e)})}var a=i.fn.cubeportfolio.constructor;o.prototype.filterLayout=function(){function e(){t.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each(function(e,t){var n=i(t).data("cbp");n.left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px",t.style[a.private.transform]=""}),t.blocksOff.addClass("cbp-item-off"),t.$obj.removeClass("cbp-animation-"+t.options.animationType),t.filterFinish()}var t=this;t.$obj.addClass("cbp-animation-"+t.options.animationType),t.blocksOn2On.addClass("cbp-item-on2on").each(function(e,t){var n=i(t).data("cbp");t.style[a.private.transform]="translate3d("+(n.leftNew-n.left)+"px, "+(n.topNew-n.top)+"px, 0)"}),t.blocksOn2Off.addClass("cbp-item-on2off"),t.blocksOff2On=t.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each(function(e,t){var n=i(t).data("cbp");t.style.left=n.leftNew+"px",t.style.top=n.topNew+"px"}),t.blocksOn2Off.length?t.blocksOn2Off.last().data("cbp").wrapper.one(a.private.animationend,e):t.blocksOff2On.length?t.blocksOff2On.last().data("cbp").wrapper.one(a.private.animationend,e):e(),t.resizeMainContainer()},o.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},a.plugins.animationClassic=function(e){return!a.private.modernBrowser||i.inArray(e.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])<0?null:new o(e)}}(jQuery,window,document),function(o,e,t,n){"use strict";function i(e){(this.parent=e).filterLayout=this.filterLayout}var a=o.fn.cubeportfolio.constructor;i.prototype.filterLayout=function(){function e(){i.wrapper[0].removeChild(t),"sequentially"===i.options.animationType&&i.blocksOn.each(function(e,t){o(t).data("cbp").wrapper[0].style[a.private.animationDelay]=""}),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}var i=this,t=i.$ul[0].cloneNode(!0);t.setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(t,i.$ul[0]),requestAnimationFrame(function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each(function(e,t){var n=o(t).data("cbp");n.left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px","sequentially"===i.options.animationType&&(n.wrapper[0].style[a.private.animationDelay]=60*e+"ms")}),i.blocksOn.length?i.blocksOn.last().data("cbp").wrapper.one(a.private.animationend,e):i.blocksOnInitial.length?i.blocksOnInitial.last().data("cbp").wrapper.one(a.private.animationend,e):e(),i.resizeMainContainer()})},i.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},a.plugins.animationClone=function(e){return!a.private.modernBrowser||o.inArray(e.options.animationType,["fadeOutTop","slideLeft","sequentially"])<0?null:new i(e)}}(jQuery,window,document),function(a,e,t,n){"use strict";function i(e){(this.parent=e).filterLayout=this.filterLayout}var r=a.fn.cubeportfolio.constructor;i.prototype.filterLayout=function(){function n(){i.wrapper[0].removeChild(e[0]),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.blocks.each(function(e,t){a(t).data("cbp").wrapper[0].style[r.private.animationDelay]=""}),i.filterFinish()}var i=this,e=i.$ul.clone(!0,!0);e[0].setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(e[0],i.$ul[0]);var o=e.find(".cbp-item").not(".cbp-item-off");i.sortBlocks(o,"top"),o.children(".cbp-item-wrapper").each(function(e,t){t.style[r.private.animationDelay]=50*e+"ms"}),requestAnimationFrame(function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each(function(e,t){var n=a(t).data("cbp");n.left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px",n.wrapper[0].style[r.private.animationDelay]=50*e+"ms"});var e=i.blocksOn.length,t=o.length;0===e&&0===t?n():e<t?o.last().children(".cbp-item-wrapper").one(r.private.animationend,n):i.blocksOn.last().data("cbp").wrapper.one(r.private.animationend,n),i.resizeMainContainer()})},i.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},r.plugins.animationCloneDelay=function(e){return!r.private.modernBrowser||a.inArray(e.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])<0?null:new i(e)}}(jQuery,window,document),function(i,e,t,n){"use strict";function o(e){(this.parent=e).filterLayout=this.filterLayout}var a=i.fn.cubeportfolio.constructor;o.prototype.filterLayout=function(){function e(){t.wrapper[0].removeChild(n),t.$obj.removeClass("cbp-animation-"+t.options.animationType),t.filterFinish()}var t=this,n=t.$ul[0].cloneNode(!0);n.setAttribute("class","cbp-wrapper-helper"),t.wrapper[0].insertBefore(n,t.$ul[0]),requestAnimationFrame(function(){t.$obj.addClass("cbp-animation-"+t.options.animationType),t.blocksOff.addClass("cbp-item-off"),t.blocksOn.removeClass("cbp-item-off").each(function(e,t){var n=i(t).data("cbp");n.left=n.leftNew,n.top=n.topNew,t.style.left=n.left+"px",t.style.top=n.top+"px"}),t.blocksOn.length?t.$ul.one(a.private.animationend,e):t.blocksOnInitial.length?i(n).one(a.private.animationend,e):e(),t.resizeMainContainer()})},o.prototype.destroy=function(){var e=this.parent;e.$obj.removeClass("cbp-animation-"+e.options.animationType)},a.plugins.animationWrapper=function(e){return!a.private.modernBrowser||i.inArray(e.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])<0?null:new o(e)}}(jQuery,window,document),function(l,e,t,n){"use strict";function i(s){(this.parent=s).registerEvent("initFinish",function(){s.$obj.on("click.cbp",".cbp-caption-defaultWrap",function(e){if(e.preventDefault(),!s.isAnimating){s.isAnimating=!0;var t=l(this),n=t.next(),i=t.parent(),o={position:"relative",height:n.outerHeight(!0)},a={position:"relative",height:0};if(s.$obj.addClass("cbp-caption-expand-active"),i.hasClass("cbp-caption-expand-open")){var r=a;a=o,o=r,i.removeClass("cbp-caption-expand-open")}n.css(o),s.$obj.one("pluginResize.cbp",function(){s.isAnimating=!1,s.$obj.removeClass("cbp-caption-expand-active"),0===o.height&&(i.removeClass("cbp-caption-expand-open"),n.attr("style",""))}),s.layoutAndAdjustment(),n.css(a),requestAnimationFrame(function(){i.addClass("cbp-caption-expand-open"),n.css(o),s.triggerEvent("gridAdjust"),s.triggerEvent("resizeGrid")})}})},!0)}var o=l.fn.cubeportfolio.constructor;i.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},o.plugins.captionExpand=function(e){return"expand"!==e.options.caption?null:new i(e)}}(jQuery,window,document),function(t,e,n,i){"use strict";function o(n){var e=t.Deferred();n.pushQueue("delayFrame",e),n.registerEvent("initEndWrite",function(){n.blocksOn.each(function(e,t){t.style[a.private.animationDelay]=e*n.options.displayTypeSpeed+"ms"}),n.$obj.addClass("cbp-displayType-bottomToTop"),n.blocksOn.last().one(a.private.animationend,function(){n.$obj.removeClass("cbp-displayType-bottomToTop"),n.blocksOn.each(function(e,t){t.style[a.private.animationDelay]=""}),e.resolve()})},!0)}var a=t.fn.cubeportfolio.constructor;a.plugins.displayBottomToTop=function(e){return a.private.modernBrowser&&"bottomToTop"===e.options.displayType&&0!==e.blocksOn.length?new o(e):null}}(jQuery,window,document),function(n,e,t,i){"use strict";function o(e){var t=n.Deferred();e.pushQueue("delayFrame",t),e.registerEvent("initEndWrite",function(){e.obj.style[a.private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeIn"),e.$obj.one(a.private.animationend,function(){e.$obj.removeClass("cbp-displayType-fadeIn"),e.obj.style[a.private.animationDuration]="",t.resolve()})},!0)}var a=n.fn.cubeportfolio.constructor;a.plugins.displayFadeIn=function(e){return!a.private.modernBrowser||"lazyLoading"!==e.options.displayType&&"fadeIn"!==e.options.displayType||0===e.blocksOn.length?null:new o(e)}}(jQuery,window,document),function(n,e,t,i){"use strict";function o(e){var t=n.Deferred();e.pushQueue("delayFrame",t),e.registerEvent("initEndWrite",function(){e.obj.style[a.private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeInToTop"),e.$obj.one(a.private.animationend,function(){e.$obj.removeClass("cbp-displayType-fadeInToTop"),e.obj.style[a.private.animationDuration]="",t.resolve()})},!0)}var a=n.fn.cubeportfolio.constructor;a.plugins.displayFadeInToTop=function(e){return a.private.modernBrowser&&"fadeInToTop"===e.options.displayType&&0!==e.blocksOn.length?new o(e):null}}(jQuery,window,document),function(t,e,n,i){"use strict";function o(n){var e=t.Deferred();n.pushQueue("delayFrame",e),n.registerEvent("initEndWrite",function(){n.blocksOn.each(function(e,t){t.style[a.private.animationDelay]=e*n.options.displayTypeSpeed+"ms"}),n.$obj.addClass("cbp-displayType-sequentially"),n.blocksOn.last().one(a.private.animationend,function(){n.$obj.removeClass("cbp-displayType-sequentially"),n.blocksOn.each(function(e,t){t.style[a.private.animationDelay]=""}),e.resolve()})},!0)}var a=t.fn.cubeportfolio.constructor;a.plugins.displaySequentially=function(e){return a.private.modernBrowser&&"sequentially"===e.options.displayType&&0!==e.blocksOn.length?new o(e):null}}(jQuery,window,document),function(p,e,t,n){"use strict";function i(e){var t=this;t.parent=e,t.filters=p(e.options.filters),t.filterData=[],e.registerEvent("afterPlugins",function(e){t.filterFromUrl(),t.registerFilter()}),e.registerEvent("resetFiltersVisual",function(){var o=e.options.defaultFilter.split("|");t.filters.each(function(e,t){var i=p(t).find(".cbp-filter-item");p.each(o,function(e,t){var n=i.filter('[data-filter="'+t+'"]');return n.length?(n.addClass("cbp-filter-item-active").siblings().removeClass("cbp-filter-item-active"),o.splice(e,1),!1):void 0})}),e.defaultFilter=e.options.defaultFilter})}var o=p.fn.cubeportfolio.constructor;i.prototype.registerFilter=function(){var r=this,s=r.parent,l=s.defaultFilter.split("|");r.wrap=r.filters.find(".cbp-l-filters-dropdownWrap").on({"mouseover.cbp":function(){p(this).addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){p(this).removeClass("cbp-l-filters-dropdownWrap-open")}}),r.filters.each(function(e,i){var t=p(i),n="*",o=t.find(".cbp-filter-item"),a={};t.hasClass("cbp-l-filters-dropdown")&&(a.wrap=t.find(".cbp-l-filters-dropdownWrap"),a.header=t.find(".cbp-l-filters-dropdownHeader"),a.headerText=a.header.text()),s.$obj.cubeportfolio("showCounter",o),p.each(l,function(e,t){return o.filter('[data-filter="'+t+'"]').length?(n=t,l.splice(e,1),!1):void 0}),p.data(i,"filterName",n),r.filterData.push(i),r.filtersCallback(a,o.filter('[data-filter="'+n+'"]')),o.on("click.cbp",function(){var e=p(this);if(!e.hasClass("cbp-filter-item-active")&&!s.isAnimating){r.filtersCallback(a,e),p.data(i,"filterName",e.data("filter"));var t=p.map(r.filterData,function(e,t){var n=p.data(e,"filterName");return""!==n&&"*"!==n?n:null});t.length<1&&(t=["*"]);var n=t.join("|");s.defaultFilter!==n&&s.$obj.cubeportfolio("filter",n)}})})},i.prototype.filtersCallback=function(e,t){p.isEmptyObject(e)||(e.wrap.trigger("mouseleave.cbp"),e.headerText?e.headerText="":e.header.html(t.html())),t.addClass("cbp-filter-item-active").siblings().removeClass("cbp-filter-item-active")},i.prototype.filterFromUrl=function(){var e=/#cbpf=(.*?)([#\?&]|$)/gi.exec(location.href);null!==e&&(this.parent.defaultFilter=decodeURIComponent(e[1]))},i.prototype.destroy=function(){this.filters.find(".cbp-filter-item").off(".cbp"),this.wrap.off(".cbp")},o.plugins.filters=function(e){return""===e.options.filters?null:new i(e)}}(jQuery,window,document),function(a,e,t,n){"use strict";function i(e){var t=this;t.parent=e,t.options=a.extend({},o,t.parent.options.plugins.inlineSlider),t.runInit(),e.registerEvent("addItemsToDOM",function(){t.runInit()})}function r(e){var t=this;e.hasClass("cbp-slider-inline-ready")||(e.addClass("cbp-slider-inline-ready"),t.items=e.find(".cbp-slider-wrapper").children(".cbp-slider-item"),t.active=t.items.filter(".cbp-slider-item--active").index(),t.total=t.items.length-1,t.updateLeft(),e.find(".cbp-slider-next").on("click.cbp",function(e){e.preventDefault(),t.active<t.total?(t.active++,t.updateLeft()):t.active===t.total&&(t.active=0,t.updateLeft())}),e.find(".cbp-slider-prev").on("click.cbp",function(e){e.preventDefault(),0<t.active?(t.active--,t.updateLeft()):0===t.active&&(t.active=t.total,t.updateLeft())}))}var o={},s=a.fn.cubeportfolio.constructor;r.prototype.updateLeft=function(){var n=this;n.items.removeClass("cbp-slider-item--active"),n.items.eq(n.active).addClass("cbp-slider-item--active"),n.items.each(function(e,t){t.style.left=e-n.active+"00%"})},i.prototype.runInit=function(){var o=this;o.parent.$obj.find(".cbp-slider-inline").not(".cbp-slider-inline-ready").each(function(e,t){var n=a(t),i=n.find(".cbp-slider-item--active").find("img")[0];i.hasAttribute("data-cbp-src")?o.parent.$obj.on("lazyLoad.cbp",function(e,t){t.src===i.src&&new r(n)}):new r(n)})},i.prototype.destroy=function(){this.parent.$obj.find(".cbp-slider-next").off("click.cbp"),this.parent.$obj.find(".cbp-slider-prev").off("click.cbp"),this.parent.$obj.off("lazyLoad.cbp"),this.parent.$obj.find(".cbp-slider-inline").each(function(e,t){var n=a(t);n.removeClass("cbp-slider-inline-ready");var i=n.find(".cbp-slider-item");i.removeClass("cbp-slider-item--active"),i.removeAttr("style"),i.eq(0).addClass("cbp-slider-item--active")})},s.plugins.inlineSlider=function(e){return new i(e)}}(jQuery,window,document),function(a,e,t,n){"use strict";function i(e){var t=this;t.parent=e,t.options=a.extend({},o,t.parent.options.plugins.lazyLoad),e.registerEvent("initEndWrite",function(){t.loadImages(),e.registerEvent("resizeMainContainer",function(){t.loadImages()}),r.private.lazyLoadScroll.initEvent({instance:t,fn:t.loadImages}),e.registerEvent("filterFinish",function(){t.loadImages()})},!0)}var o={loadingClass:"cbp-lazyload",threshold:0},r=a.fn.cubeportfolio.constructor,s=a(e);r.private.lazyLoadScroll=new r.private.publicEvents("scroll.lazyLoad",300),i.prototype.loadImages=function(){var o=this,e=o.parent.$obj.find("img").filter("[data-cbp-src]");0!==e.length&&(o.screenHeight=s.height(),e.each(function(e,t){var n=a(t.parentNode);if(o.isElementInScreen(t)){var i=t.getAttribute("data-cbp-src");null===o.parent.checkSrc(a("<img>").attr("src",i))?(o.removeLazyLoad(t,i),n.removeClass(o.options.loadingClass)):(n.addClass(o.options.loadingClass),a("<img>").on("load.cbp error.cbp",function(){o.removeLazyLoad(t,i,n)}).attr("src",i))}else n.addClass(o.options.loadingClass)}))},i.prototype.removeLazyLoad=function(e,t,n){var i=this;e.src=t,e.removeAttribute("data-cbp-src"),i.parent.removeAttrImage(e),i.parent.$obj.trigger("lazyLoad.cbp",e),n&&(r.private.modernBrowser?a(e).one(r.private.transitionend,function(){n.removeClass(i.options.loadingClass)}):n.removeClass(i.options.loadingClass))},i.prototype.isElementInScreen=function(e){var t=e.getBoundingClientRect(),n=t.bottom+this.options.threshold,i=this.screenHeight+n-(t.top-this.options.threshold);return 0<=n&&n<=i},i.prototype.destroy=function(){r.private.lazyLoadScroll.destroyEvent(this)},r.plugins.lazyLoad=function(e){return new i(e)}}(jQuery,window,document),function(t,e,n,i){"use strict";function o(e){this.parent=e,this.loadMore=t(e.options.loadMore).find(".cbp-l-loadMore-link"),this.loadMore.length&&this[e.options.loadMoreAction]()}var p=t.fn.cubeportfolio.constructor;p.private.loadMoreScroll=new p.private.publicEvents("scroll.loadMore",100),o.prototype.createURL=function(e,t){return e+(/\?/.test(e)?"&":"?")+"block="+t},o.prototype.click=function(){var s=this,l=0;s.loadMore.on("click.cbp",function(e){var r=t(this);e.preventDefault(),s.parent.isAnimating||r.hasClass("cbp-l-loadMore-stop")||(r.addClass("cbp-l-loadMore-loading"),l++,t.ajax({url:s.createURL(s.loadMore.attr("href"),l),type:"GET",dataType:"HTML"}).done(function(e){var t=e.replace(/(\r\n|\n|\r)/gm,""),n=t.indexOf("cbp-loadMore-block"+l);if(-1!==n){var i,o=t.indexOf(">",n)+1,a=t.indexOf("cbp-loadMore-block"+(l+1));i=-1===a?t.lastIndexOf("</"):t.lastIndexOf("</",a),s.parent.$obj.cubeportfolio("append",t.substring(o,i),function(){r.removeClass("cbp-l-loadMore-loading"),-1===a&&r.addClass("cbp-l-loadMore-stop")})}else r.addClass("cbp-l-loadMore-stop")}).fail(function(){}))})},o.prototype.auto=function(){var s=this,l=t(e);s.parent.$obj.on("initComplete.cbp",function(){Object.create({init:function(){this.isActive=!1,this.numberOfClicks=0,s.loadMore.addClass("cbp-l-loadMore-loading"),this.addEvents(),this.getNewItems()},addEvents:function(){var e=this;s.loadMore.on("click.cbp",function(e){e.preventDefault()}),p.private.loadMoreScroll.initEvent({instance:e,fn:function(){s.parent.isAnimating||e.getNewItems()}}),s.parent.$obj.on("filterComplete.cbp",function(){e.getNewItems()})},getNewItems:function(){var e,r=this;r.isActive||s.loadMore.hasClass("cbp-l-loadMore-stop")||(e=s.loadMore.offset().top-200,l.scrollTop()+l.height()<e||(r.isActive=!0,r.numberOfClicks++,t.ajax({url:s.createURL(s.loadMore.attr("href"),r.numberOfClicks),type:"GET",dataType:"HTML"}).done(function(e){var t=e.replace(/(\r\n|\n|\r)/gm,""),n=t.indexOf("cbp-loadMore-block"+r.numberOfClicks);if(-1!==n){var i,o=t.indexOf(">",n)+1,a=t.indexOf("cbp-loadMore-block"+(r.numberOfClicks+1));i=-1===a?t.lastIndexOf("</"):t.lastIndexOf("</",a),s.parent.$obj.cubeportfolio("append",t.substring(o,i),function(){-1===a?(s.loadMore.addClass("cbp-l-loadMore-stop"),p.private.loadMoreScroll.destroyEvent(this),s.parent.$obj.off("filterComplete.cbp")):(r.isActive=!1,l.trigger("scroll.loadMore"))})}else s.loadMore.addClass("cbp-l-loadMore-stop")}).fail(function(){r.isActive=!1})))}}).init()})},o.prototype.destroy=function(){this.loadMore.off(".cbp"),p.private.loadMoreScroll.destroyEvent(this)},p.plugins.loadMore=function(e){return""===e.options.loadMore?null:new o(e)}}(jQuery,window,document),function(u,d,c,e){"use strict";function t(e){var t=this;!1===(t.parent=e).options.lightboxShowCounter&&(e.options.lightboxCounter=""),!1===e.options.singlePageShowCounter&&(e.options.singlePageCounter=""),e.registerEvent("initStartRead",function(){t.run()},!0)}var s=u.fn.cubeportfolio.constructor,n={init:function(e,t){var o,a=this;if(a.cubeportfolio=e,a.type=t,a.isOpen=!1,a.options=a.cubeportfolio.options,"lightbox"===t&&a.cubeportfolio.registerEvent("resizeWindow",function(){a.resizeImage()}),"singlePageInline"!==t){if(a.createMarkup(),"singlePage"===t&&(a.cubeportfolio.registerEvent("resizeWindow",function(){if(a.options.singlePageStickyNavigation){var e=a.wrap[0].clientWidth;0<e&&(a.navigationWrap.width(e),a.navigation.width(e))}}),a.options.singlePageDeeplinking)){a.url=location.href,"#"===a.url.slice(-1)&&(a.url=a.url.slice(0,-1));var n=(p=a.url.split("#cbp=")).shift();if(u.each(p,function(e,i){return a.cubeportfolio.blocksOn.each(function(e,t){var n=u(t).find(a.options.singlePageDelegate+'[href="'+i+'"]');return n.length?(o=n,!1):void 0}),!o&&void 0}),o){a.url=n;var i=o,r=i.attr("data-cbp-singlePage"),s=[];r?s=i.closest(u(".cbp-item")).find('[data-cbp-singlePage="'+r+'"]'):a.cubeportfolio.blocksOn.each(function(e,t){var n=u(t);n.not(".cbp-item-off")&&n.find(a.options.singlePageDelegate).each(function(e,t){u(t).attr("data-cbp-singlePage")||s.push(t)})}),a.openSinglePage(s,o[0])}else if(p.length){var l=c.createElement("a");l.setAttribute("href",p[0]),a.openSinglePage([l],l)}}}else if(a.height=0,a.createMarkupSinglePageInline(),a.cubeportfolio.registerEvent("resizeGrid",function(){a.isOpen&&a.close()}),a.options.singlePageInlineDeeplinking){a.url=location.href,"#"===a.url.slice(-1)&&(a.url=a.url.slice(0,-1));var p;n=(p=a.url.split("#cbpi=")).shift();u.each(p,function(e,i){return a.cubeportfolio.blocksOn.each(function(e,t){var n=u(t).find(a.options.singlePageInlineDelegate+'[href="'+i+'"]');return n.length?(o=n,!1):void 0}),!o&&void 0}),o&&a.cubeportfolio.registerEvent("initFinish",function(){a.openSinglePageInline(a.cubeportfolio.blocksOn,o[0])},!0)}},createMarkup:function(){var o=this,e="";"singlePage"===o.type&&"left"!==o.options.singlePageAnimation&&(e=" cbp-popup-singlePage-"+o.options.singlePageAnimation),o.wrap=u("<div/>",{class:"cbp-popup-wrap cbp-popup-"+o.type+e,"data-action":"lightbox"===o.type?"close":""}).on("click.cbp",function(e){if(!o.stopEvents){var t=u(e.target).attr("data-action");o[t]&&(o[t](),e.preventDefault())}}),o.content=u("<div/>",{class:"cbp-popup-content"}).appendTo(o.wrap),u("<div/>",{class:"cbp-popup-loadingBox"}).appendTo(o.wrap),"ie8"===s.private.browser&&(o.bg=u("<div/>",{class:"cbp-popup-ie8bg","data-action":"lightbox"===o.type?"close":""}).appendTo(o.wrap)),o.navigationWrap=u("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(o.wrap),o.navigation=u("<div/>",{class:"cbp-popup-navigation"}).appendTo(o.navigationWrap),o.closeButton=u("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(o.navigation),o.nextButton=u("<div/>",{class:"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(o.navigation),o.prevButton=u("<div/>",{class:"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(o.navigation),"singlePage"===o.type&&(o.options.singlePageCounter&&(o.counter=u(o.options.singlePageCounter).appendTo(o.navigation),o.counter.text("")),o.content.on("click.cbp",o.options.singlePageDelegate,function(e){e.preventDefault();var t,n=o.dataArray.length,i=this.getAttribute("href");for(t=0;t<n&&o.dataArray[t].url!==i;t++);o.singlePageJumpTo(t-o.current)}),o.wrap.on("mousewheel.cbp DOMMouseScroll.cbp",function(e){e.stopImmediatePropagation()})),u(c).on("keydown.cbp",function(e){o.isOpen&&(o.stopEvents||(a&&e.stopImmediatePropagation(),37===e.keyCode?o.prev():39===e.keyCode?o.next():27===e.keyCode&&o.close()))})},createMarkupSinglePageInline:function(){var n=this;n.wrap=u("<div/>",{class:"cbp-popup-singlePageInline"}).on("click.cbp",function(e){if(!n.stopEvents){var t=u(e.target).attr("data-action");t&&n[t]&&(n[t](),e.preventDefault())}}),n.content=u("<div/>",{class:"cbp-popup-content"}).appendTo(n.wrap),n.navigation=u("<div/>",{class:"cbp-popup-navigation"}).appendTo(n.wrap),n.closeButton=u("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(n.navigation)},destroy:function(){var e=this,t=u("body");u(c).off("keydown.cbp"),t.off("click.cbp",e.options.lightboxDelegate),t.off("click.cbp",e.options.singlePageDelegate),e.content.off("click.cbp",e.options.singlePageDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.singlePageInlineDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.lightboxDelegate),e.cubeportfolio.$obj.off("click.cbp",e.options.singlePageDelegate),e.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),e.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),e.wrap.remove()},openLightbox:function(e,t){var r,n,s=this,l=0,p=[];if(!s.isOpen){if(a=!0,s.isOpen=!0,s.stopEvents=!1,s.dataArray=[],(s.current=null)===(r=t.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");u.each(e,function(e,t){var n,i=t.getAttribute("href"),o=i,a="isImage";if(-1===u.inArray(i,p)){if(r===i)s.current=l;else if(!s.options.lightboxGallery)return;/youtube/i.test(i)?(n=i.substring(i.lastIndexOf("v=")+2),/autoplay=/i.test(n)||(n+="&autoplay=1"),o="//www.youtube.com/embed/"+(n=n.replace(/\?|&/,"?")),a="isYoutube"):/vimeo\.com/i.test(i)?(n=i.substring(i.lastIndexOf("/")+1),/autoplay=/i.test(n)||(n+="&autoplay=1"),o="//player.vimeo.com/video/"+(n=n.replace(/\?|&/,"?")),a="isVimeo"):/www\.ted\.com/i.test(i)?(o="http://embed.ted.com/talks/"+i.substring(i.lastIndexOf("/")+1)+".html",a="isTed"):/soundcloud\.com/i.test(i)?(o=i,a="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(i)?(o=-1!==i.indexOf("|")?i.split("|"):i.split("%7C"),a="isSelfHostedVideo"):/\.mp3$/i.test(i)&&(o=i,a="isSelfHostedAudio"),s.dataArray.push({src:o,title:t.getAttribute(s.options.lightboxTitleSrc),type:a}),l++}p.push(i)}),s.counterTotal=s.dataArray.length,1===s.counterTotal?(s.nextButton.hide(),s.prevButton.hide(),s.dataActionImg=""):(s.nextButton.show(),s.prevButton.show(),s.dataActionImg='data-action="next"'),s.wrap.appendTo(c.body),s.scrollTop=u(d).scrollTop(),s.originalStyle=u("html").attr("style"),u("html").css({overflow:"hidden",marginRight:d.innerWidth-u(c).width()}),s.wrap.addClass("cbp-popup-transitionend"),s.wrap.show(),n=s.dataArray[s.current],s[n.type](n)}},openSinglePage:function(e,t){var i,o=this,a=0,r=[];if(!o.isOpen){if(o.cubeportfolio.singlePageInline&&o.cubeportfolio.singlePageInline.isOpen&&o.cubeportfolio.singlePageInline.close(),o.isOpen=!0,o.stopEvents=!1,o.dataArray=[],(o.current=null)===(i=t.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");u.each(e,function(e,t){var n=t.getAttribute("href");-1===u.inArray(n,r)&&(i===n&&(o.current=a),o.dataArray.push({url:n,element:t}),a++),r.push(n)}),o.counterTotal=o.dataArray.length,1===o.counterTotal?(o.nextButton.hide(),o.prevButton.hide()):(o.nextButton.show(),o.prevButton.show()),o.wrap.appendTo(c.body),o.scrollTop=u(d).scrollTop(),o.wrap.scrollTop(0),o.wrap.show(),o.finishOpen=2,o.navigationMobile=u(),o.wrap.one(s.private.transitionend,function(){u("html").css({overflow:"hidden",marginRight:d.innerWidth-u(c).width()}),o.wrap.addClass("cbp-popup-transitionend"),o.options.singlePageStickyNavigation&&(o.wrap.addClass("cbp-popup-singlePage-sticky"),o.navigationWrap.width(o.wrap[0].clientWidth),"android"!==s.private.browser&&"ios"!==s.private.browser||(o.navigationMobile=u("<div/>",{class:"cbp-popup-singlePage cbp-popup-singlePage-sticky",id:o.wrap.attr("id")}).on("click.cbp",function(e){if(!o.stopEvents){var t=u(e.target).attr("data-action");o[t]&&(o[t](),e.preventDefault())}}),o.navigationMobile.appendTo(c.body).append(o.navigationWrap))),o.finishOpen--,o.finishOpen<=0&&o.updateSinglePageIsOpen.call(o)}),"ie8"!==s.private.browser&&"ie9"!==s.private.browser||(u("html").css({overflow:"hidden",marginRight:d.innerWidth-u(c).width()}),o.wrap.addClass("cbp-popup-transitionend"),o.options.singlePageStickyNavigation&&(o.navigationWrap.width(o.wrap[0].clientWidth),setTimeout(function(){o.wrap.addClass("cbp-popup-singlePage-sticky")},1e3)),o.finishOpen--),o.wrap.addClass("cbp-popup-loading"),o.wrap.offset(),o.wrap.addClass("cbp-popup-singlePage-open"),o.options.singlePageDeeplinking&&(o.url=o.url.split("#cbp=")[0],location.href=o.url+"#cbp="+o.dataArray[o.current].url),u.isFunction(o.options.singlePageCallback)&&o.options.singlePageCallback.call(o,o.dataArray[o.current].url,o.dataArray[o.current].element)}},openSinglePageInline:function(e,t,n){var i,o,a,r=this;if(n=n||!1,r.fromOpen=n,r.storeBlocks=e,r.storeCurrentBlock=t,r.isOpen)return o=u(t).closest(".cbp-item").index(),void(r.dataArray[r.current].url!==t.getAttribute("href")||r.current!==o?r.cubeportfolio.singlePageInline.close("open",{blocks:e,currentBlock:t,fromOpen:!0}):r.close());if(r.isOpen=!0,r.stopEvents=!1,r.dataArray=[],(r.current=null)===(i=t.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(a=u(t).closest(".cbp-item")[0],e.each(function(e,t){a===t&&(r.current=e)}),r.dataArray[r.current]={url:i,element:t},u(r.dataArray[r.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),r.counterTotal=e.length,r.wrap.insertBefore(r.cubeportfolio.wrapper),r.topDifference=0,"top"===r.options.singlePageInlinePosition)r.blocksToMove=e,r.top=0;else if("bottom"===r.options.singlePageInlinePosition)r.blocksToMove=u(),r.top=r.cubeportfolio.height;else if("above"===r.options.singlePageInlinePosition){var s=u(e[r.current]),l=(p=s.data("cbp").top)+s.height();r.top=p,r.blocksToMove=u(),e.each(function(e,t){var n=u(t),i=n.data("cbp").top,o=i+n.height();o<=p||(p<=i&&(r.blocksToMove=r.blocksToMove.add(t)),i<p&&p<o&&(r.top=o+r.options.gapHorizontal,o-p>r.topDifference&&(r.topDifference=o-p+r.options.gapHorizontal)))}),r.top=Math.max(r.top-r.options.gapHorizontal,0)}else{var p;s=u(e[r.current]),l=(p=s.data("cbp").top)+s.height();r.top=l,r.blocksToMove=u(),e.each(function(e,t){var n=u(t),i=n.data("cbp").top,o=i+n.height();o<=l||(l<=i&&(r.blocksToMove=r.blocksToMove.add(t)),l<o&&i<l&&((r.top=o)-l>r.topDifference&&(r.topDifference=o-l)))})}if(r.wrap[0].style.height=r.wrap.outerHeight(!0)+"px",r.deferredInline=u.Deferred(),r.options.singlePageInlineInFocus){r.scrollTop=u(d).scrollTop();var c=r.cubeportfolio.$obj.offset().top+r.top-100;r.scrollTop!==c?u("html,body").animate({scrollTop:c},350).promise().then(function(){r.resizeSinglePageInline(),r.deferredInline.resolve()}):(r.resizeSinglePageInline(),r.deferredInline.resolve())}else r.resizeSinglePageInline(),r.deferredInline.resolve();r.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),r.wrap.css({top:r.top}),r.options.singlePageInlineDeeplinking&&(r.url=r.url.split("#cbpi=")[0],location.href=r.url+"#cbpi="+r.dataArray[r.current].url),u.isFunction(r.options.singlePageInlineCallback)&&r.options.singlePageInlineCallback.call(r,r.dataArray[r.current].url,r.dataArray[r.current].element)},resizeSinglePageInline:function(){var n=this;n.height=0===n.top||n.top===n.cubeportfolio.height?n.wrap.outerHeight(!0):n.wrap.outerHeight(!0)-n.options.gapHorizontal,n.height+=n.topDifference,n.storeBlocks.each(function(e,t){s.private.modernBrowser?t.style[s.private.transform]="":t.style.marginTop=""}),n.blocksToMove.each(function(e,t){s.private.modernBrowser?t.style[s.private.transform]="translate3d(0px, "+n.height+"px, 0)":t.style.marginTop=n.height+"px"}),n.cubeportfolio.obj.style.height=n.cubeportfolio.height+n.height+"px"},revertResizeSinglePageInline:function(){this.deferredInline=u.Deferred(),this.storeBlocks.each(function(e,t){s.private.modernBrowser?t.style[s.private.transform]="":t.style.marginTop=""}),this.cubeportfolio.obj.style.height=this.cubeportfolio.height+"px"},appendScriptsToWrap:function(i){var o=this,a=0,r=function(e){var t=c.createElement("script"),n=e.src;t.type="text/javascript",t.readyState?t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,i[++a]&&r(i[a]))}:t.onload=function(){i[++a]&&r(i[a])},n?t.src=n:t.text=e.text,o.content[0].appendChild(t)};r(i[0])},updateSinglePage:function(e,t,n){var i,o=this;o.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),!1===n&&o.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),o.counter&&(i=u(o.getCounterMarkup(o.options.singlePageCounter,o.current+1,o.counterTotal)),o.counter.text(i.text())),o.fromAJAX={html:e,scripts:t},o.finishOpen--,o.finishOpen<=0&&o.updateSinglePageIsOpen.call(o)},updateSinglePageIsOpen:function(){var e,t=this;t.wrap.addClass("cbp-popup-ready"),t.wrap.removeClass("cbp-popup-loading"),t.content.html(t.fromAJAX.html),t.fromAJAX.scripts&&t.appendScriptsToWrap(t.fromAJAX.scripts),t.fromAJAX={},t.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),(e=t.content.find(".cbp-slider"))?(e.find(".cbp-slider-item").addClass("cbp-item"),t.slider=e.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):t.slider=null,t.checkForSocialLinks(t.content),"android"!==s.private.browser&&"ios"!==s.private.browser||u("html").css({position:"fixed"}),t.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},checkForSocialLinks:function(e){this.createFacebookShare(e.find(".cbp-social-fb")),this.createTwitterShare(e.find(".cbp-social-twitter")),this.createGooglePlusShare(e.find(".cbp-social-googleplus")),this.createPinterestShare(e.find(".cbp-social-pinterest"))},createFacebookShare:function(e){e.length&&!e.attr("onclick")&&e.attr("onclick","window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(d.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")},createTwitterShare:function(e){e.length&&!e.attr("onclick")&&e.attr("onclick","window.open('https://twitter.com/intent/tweet?source="+encodeURIComponent(d.location.href)+"&text="+encodeURIComponent(c.title)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=300'); return false;")},createGooglePlusShare:function(e){e.length&&!e.attr("onclick")&&e.attr("onclick","window.open('https://plus.google.com/share?url="+encodeURIComponent(d.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=450'); return false;")},createPinterestShare:function(e){if(e.length&&!e.attr("onclick")){var t="",n=this.content.find("img")[0];n&&(t=n.src),e.attr("onclick","window.open('http://pinterest.com/pin/create/button/?url="+encodeURIComponent(d.location.href)+"&media="+t+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")}},updateSinglePageInline:function(e,t){var n=this;n.content.html(e),t&&n.appendScriptsToWrap(t),n.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),n.singlePageInlineIsOpen.call(n)},singlePageInlineIsOpen:function(){function t(){n.wrap.addClass("cbp-popup-singlePageInline-ready"),n.wrap[0].style.height="",n.resizeSinglePageInline(),n.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}var n=this;n.cubeportfolio.loadImages(n.wrap,function(){var e=n.content.find(".cbp-slider");e.length?(e.find(".cbp-slider-item").addClass("cbp-item"),e.one("initComplete.cbp",function(){n.deferredInline.done(t)}),e.on("pluginResize.cbp",function(){n.deferredInline.done(t)}),n.slider=e.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(n.slider=null,n.deferredInline.done(t)),n.checkForSocialLinks(n.content)})},isImage:function(e){var t=this;new Image,t.tooggleLoading(!0),t.cubeportfolio.loadImages(u('<div><img src="'+e.src+'"></div>'),function(){t.updateImagesMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal)),t.tooggleLoading(!1)})},isVimeo:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isYoutube:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isTed:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSoundCloud:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSelfHostedVideo:function(e){var t=this;t.updateSelfHostedVideo(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},isSelfHostedAudio:function(e){var t=this;t.updateSelfHostedAudio(e.src,e.title,t.getCounterMarkup(t.options.lightboxCounter,t.current+1,t.counterTotal))},getCounterMarkup:function(e,t,n){if(!e.length)return"";var i={current:t,total:n};return e.replace(/\{\{current}}|\{\{total}}/gi,function(e){return i[e.slice(2,-2)]})},updateSelfHostedVideo:function(e,t,n){var i;this.wrap.addClass("cbp-popup-lightbox-isIframe");var o='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(i=0;i<e.length;i++)/(\.mp4)/i.test(e[i])?o+='<source src="'+e[i]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(e[i])?o+='<source src="'+e[i]+'" type="video/ogg">':/(\.webm)/i.test(e[i])&&(o+='<source src="'+e[i]+'" type="video/webm">');o+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>",this.content.html(o),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateSelfHostedAudio:function(e,t,n){this.wrap.addClass("cbp-popup-lightbox-isIframe");var i='<div class="cbp-popup-lightbox-iframe"><div class="cbp-misc-video"><audio controls="controls" height="auto" style="width: 75%"><source src="'+e+'" type="audio/mpeg">Your browser does not support the audio tag.</audio></div><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>";this.content.html(i),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateVideoMarkup:function(e,t,n){this.wrap.addClass("cbp-popup-lightbox-isIframe");var i='<div class="cbp-popup-lightbox-iframe"><iframe src="'+e+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>";this.content.html(i),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateImagesMarkup:function(e,t,n){var i=this;i.wrap.removeClass("cbp-popup-lightbox-isIframe");var o='<div class="cbp-popup-lightbox-figure"><img src="'+e+'" class="cbp-popup-lightbox-img" '+i.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+n+"</div></div>";i.content.html(o),i.wrap.addClass("cbp-popup-ready"),i.resizeImage(),i.preloadNearbyImages()},next:function(){this[this.type+"JumpTo"](1)},prev:function(){this[this.type+"JumpTo"](-1)},lightboxJumpTo:function(e){var t,n=this;n.current=n.getIndex(n.current+e),n[(t=n.dataArray[n.current]).type](t)},singlePageJumpTo:function(e){var t=this;t.current=t.getIndex(t.current+e),u.isFunction(t.options.singlePageCallback)&&(t.resetWrap(),t.wrap.scrollTop(0),t.wrap.addClass("cbp-popup-loading"),t.options.singlePageCallback.call(t,t.dataArray[t.current].url,t.dataArray[t.current].element),t.options.singlePageDeeplinking&&(location.href=t.url+"#cbp="+t.dataArray[t.current].url))},resetWrap:function(){var e=this;"singlePage"===e.type&&e.options.singlePageDeeplinking&&(location.href=e.url+"#"),"singlePageInline"===e.type&&e.options.singlePageInlineDeeplinking&&(location.href=e.url+"#")},getIndex:function(e){return(e%=this.counterTotal)<0&&(e=this.counterTotal+e),e},close:function(t,e){function n(){o.content.html(""),o.wrap.detach(),o.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),"promise"===t&&u.isFunction(e.callback)&&e.callback.call(o.cubeportfolio)}function i(){var e=u(d).scrollTop();o.resetWrap(),u(d).scrollTop(e),o.options.singlePageInlineInFocus&&"promise"!==t?u("html,body").animate({scrollTop:o.scrollTop},350).promise().then(function(){n()}):n()}var o=this;o.isOpen=!1,"singlePageInline"===o.type?"open"===t?(o.wrap.removeClass("cbp-popup-singlePageInline-ready"),u(o.dataArray[o.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),o.openSinglePageInline(e.blocks,e.currentBlock,e.fromOpen)):(o.height=0,o.revertResizeSinglePageInline(),o.wrap.removeClass("cbp-popup-singlePageInline-ready"),o.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),o.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),s.private.modernBrowser?o.wrap.one(s.private.transitionend,function(){i()}):i()):"singlePage"===o.type?(o.resetWrap(),o.wrap.removeClass("cbp-popup-ready cbp-popup-transitionend"),"android"!==s.private.browser&&"ios"!==s.private.browser||(u("html").css({position:""}),o.navigationWrap.appendTo(o.wrap),o.navigationMobile.remove()),u(d).scrollTop(o.scrollTop),setTimeout(function(){o.stopScroll=!0,o.navigationWrap.css({top:o.wrap.scrollTop()}),o.wrap.removeClass("cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),"ie8"!==s.private.browser&&"ie9"!==s.private.browser||(o.content.html(""),o.wrap.detach(),u("html").css({overflow:"",marginRight:"",position:""}),o.navigationWrap.removeAttr("style"))},0),u("html").css({overflow:"",marginRight:"",position:""}),o.wrap.one(s.private.transitionend,function(){o.content.html(""),o.wrap.detach(),o.navigationWrap.removeAttr("style")})):(a=!1,o.originalStyle?u("html").attr("style",o.originalStyle):u("html").css({overflow:"",marginRight:""}),u(d).scrollTop(o.scrollTop),o.content.html(""),o.wrap.detach())},tooggleLoading:function(e){this.stopEvents=e,this.wrap[e?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var e=u(d).height(),t=this.content.find("img"),n=parseInt(t.css("margin-top"),10)+parseInt(t.css("margin-bottom"),10);t.css("max-height",e-n+"px")}},preloadNearbyImages:function(){for(var e=this,t=[e.getIndex(e.current+1),e.getIndex(e.current+2),e.getIndex(e.current+3),e.getIndex(e.current-1),e.getIndex(e.current-2),e.getIndex(e.current-3)],n=t.length-1;0<=n;n--)"isImage"===e.dataArray[t[n]].type&&e.cubeportfolio.checkSrc(e.dataArray[t[n]])}},a=!1,i=!1,o=!1;t.prototype.run=function(){var r=this,s=r.parent,e=u(c.body);s.lightbox=null,s.options.lightboxDelegate&&!i&&(i=!0,s.lightbox=Object.create(n),s.lightbox.init(s,"lightbox"),e.on("click.cbp",s.options.lightboxDelegate,function(e){e.preventDefault();var t=u(this),i=t.attr("data-cbp-lightbox"),n=r.detectScope(t),o=n.data("cubeportfolio"),a=[];o?o.blocksOn.each(function(e,t){var n=u(t);n.not(".cbp-item-off")&&n.find(s.options.lightboxDelegate).each(function(e,t){i?u(t).attr("data-cbp-lightbox")===i&&a.push(t):a.push(t)})}):a=i?n.find(s.options.lightboxDelegate+"[data-cbp-lightbox="+i+"]"):n.find(s.options.lightboxDelegate),s.lightbox.openLightbox(a,t[0])})),s.singlePage=null,s.options.singlePageDelegate&&!o&&(o=!0,s.singlePage=Object.create(n),s.singlePage.init(s,"singlePage"),e.on("click.cbp",s.options.singlePageDelegate,function(e){e.preventDefault();var t=u(this),i=t.attr("data-cbp-singlePage"),n=r.detectScope(t),o=n.data("cubeportfolio"),a=[];o?o.blocksOn.each(function(e,t){var n=u(t);n.not(".cbp-item-off")&&n.find(s.options.singlePageDelegate).each(function(e,t){i?u(t).attr("data-cbp-singlePage")===i&&a.push(t):a.push(t)})}):a=i?n.find(s.options.singlePageDelegate+"[data-cbp-singlePage="+i+"]"):n.find(s.options.singlePageDelegate),s.singlePage.openSinglePage(a,t[0])})),s.singlePageInline=null,s.options.singlePageInlineDelegate&&(s.singlePageInline=Object.create(n),s.singlePageInline.init(s,"singlePageInline"),s.$obj.on("click.cbp",s.options.singlePageInlineDelegate,function(e){e.preventDefault();var t=u.data(this,"cbp-locked"),n=u.data(this,"cbp-locked",+new Date);(!t||300<n-t)&&s.singlePageInline.openSinglePageInline(s.blocksOn,this)}))},t.prototype.detectScope=function(e){var t,n,i;return(t=e.closest(".cbp-popup-singlePageInline")).length?(i=e.closest(".cbp",t[0])).length?i:t:(n=e.closest(".cbp-popup-singlePage")).length?(i=e.closest(".cbp",n[0])).length?i:n:(i=e.closest(".cbp")).length?i:u(c.body)},t.prototype.destroy=function(){var e=this.parent;u(c.body).off("click.cbp"),o=i=!1,e.lightbox&&e.lightbox.destroy(),e.singlePage&&e.singlePage.destroy(),e.singlePageInline&&e.singlePageInline.destroy()},s.plugins.popUp=function(e){return new t(e)}}(jQuery,window,document),function(s,e,t,n){"use strict";function i(e){var n=this;n.parent=e,n.searchInput=s(e.options.search),n.searchInput.each(function(e,t){var n=t.getAttribute("data-search");n||(n="*"),s.data(t,"searchData",{value:t.value,el:n})});var i=null;n.searchInput.on("keyup.cbp paste.cbp",function(e){e.preventDefault();var t=s(this);clearTimeout(i),i=setTimeout(function(){n.runEvent.call(n,t)},350)}),n.searchNothing=n.searchInput.siblings(".cbp-search-nothing").detach(),n.searchNothingHeight=null,n.searchNothingHTML=n.searchNothing.html(),n.searchInput.siblings(".cbp-search-icon").on("click.cbp",function(e){e.preventDefault(),n.runEvent.call(n,s(this).prev().val(""))})}var o=s.fn.cubeportfolio.constructor;i.prototype.runEvent=function(e){var i=this,o=e.val(),a=e.data("searchData"),r=new RegExp(o,"i");a.value===o||i.parent.isAnimating||(0<(a.value=o).length?e.attr("value",o):e.removeAttr("value"),i.parent.$obj.cubeportfolio("filter",function(e){var t=e.filter(function(e,t){return-1<s(t).find(a.el).text().search(r)||void 0});if(0===t.length&&i.searchNothing.length){var n=i.searchNothingHTML.replace("{{query}}",o);i.searchNothing.html(n),i.searchNothing.appendTo(i.parent.$obj),null===i.searchNothingHeight&&(i.searchNothingHeight=i.searchNothing.outerHeight(!0)),i.parent.registerEvent("resizeMainContainer",function(){i.parent.height=i.parent.height+i.searchNothingHeight,i.parent.obj.style.height=i.parent.height+"px"},!0)}else i.searchNothing.detach();return i.parent.triggerEvent("resetFiltersVisual"),t},function(){e.trigger("keyup.cbp")}))},i.prototype.destroy=function(){this.searchInput.off(".cbp"),this.searchInput.next(".cbp-search-icon").off(".cbp"),this.searchInput.each(function(e,t){s.removeData(t)})},o.plugins.search=function(e){return""===e.options.search?null:new i(e)}}(jQuery,window,document),function(o,e,t,n){"use strict";function i(e){var t=this;t.parent=e,t.options=o.extend({},a,t.parent.options.plugins.slider);var n=o(t.options.pagination);0<n.length&&(t.parent.customPagination=n,t.parent.customPaginationItems=n.children(),t.parent.customPaginationClass=t.options.paginationClass,t.parent.customPaginationItems.on("click.cbp",function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),t.parent.sliderStopEvents||t.parent.jumpToSlider(o(this))})),t.parent.registerEvent("gridAdjust",function(){t.sliderMarkup.call(t.parent),t.parent.registerEvent("gridAdjust",function(){t.updateSlider.call(t.parent)})},!0)}var a={pagination:"",paginationClass:"cbp-pagination-active"},r=o.fn.cubeportfolio.constructor;i.prototype.sliderMarkup=function(){var i=this;i.sliderStopEvents=!1,i.sliderActive=0,i.$obj.one("initComplete.cbp",function(){i.$obj.addClass("cbp-mode-slider")}),i.nav=o("<div/>",{class:"cbp-nav"}),i.nav.on("click.cbp","[data-slider-action]",function(e){if(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!i.sliderStopEvents){var t=o(this),n=t.attr("data-slider-action");i[n+"Slider"]&&i[n+"Slider"](t)}}),i.options.showNavigation&&(i.controls=o("<div/>",{class:"cbp-nav-controls"}),i.navPrev=o("<div/>",{class:"cbp-nav-prev","data-slider-action":"prev"}).appendTo(i.controls),i.navNext=o("<div/>",{class:"cbp-nav-next","data-slider-action":"next"}).appendTo(i.controls),i.controls.appendTo(i.nav)),i.options.showPagination&&(i.navPagination=o("<div/>",{class:"cbp-nav-pagination"}).appendTo(i.nav)),(i.controls||i.navPagination)&&i.nav.appendTo(i.$obj),i.updateSliderPagination(),i.options.auto&&(i.options.autoPauseOnHover&&(i.mouseIsEntered=!1,i.$obj.on("mouseenter.cbp",function(e){i.mouseIsEntered=!0,i.stopSliderAuto()}).on("mouseleave.cbp",function(e){i.mouseIsEntered=!1,i.startSliderAuto()})),i.startSliderAuto()),i.options.drag&&r.private.modernBrowser&&i.dragSlider()},i.prototype.updateSlider=function(){this.updateSliderPosition(),this.updateSliderPagination()},i.prototype.destroy=function(){var e=this;e.parent.customPaginationItems&&e.parent.customPaginationItems.off(".cbp"),(e.parent.controls||e.parent.navPagination)&&(e.parent.nav.off(".cbp"),e.parent.nav.remove())},r.plugins.slider=function(e){return"slider"!==e.options.layoutMode?null:new i(e)}}(jQuery,window,document);
